System.register(["./index-legacy-5cf90f52.js"],(function(e,t){"use strict";var l,a,o,i,n,r,s,d,u,c,v,m,p,f,x,b,g,h,y,k,w,S;return{setters:[e=>{l=e.r,a=e.z,o=e.D,i=e.d,n=e.R,r=e.o,s=e.y,d=e.e,u=e.m,c=e.c,v=e.Y,m=e.b,p=e.W,f=e.l,x=e.t,b=e.U,g=e.V,h=e.a1,y=e.X,k=e.Z,w=e.C,S=e.k}],execute:function(){e("a",(({tableElements:e,sortField:t,pageName:i,route:n,router:r})=>{const s=l(+n.query.currentPage||1),d=l(10),u=a((()=>Math.ceil(e.value.length/d.value))),c=l(!1),v=a((()=>{const l=e.value.length;let a=(s.value-1)*d.value;var o;a>=l&&l&&(o=Math.ceil(l/d.value),s.value=o,a=(s.value-1)*d.value);let i=a+d.value;const n=e.value.slice(a,i);return c.value?n.sort(((e,l)=>e[t.value]>l[t.value]?-1:1)):n.sort(((e,l)=>e[t.value]>l[t.value]?1:-1))}));return o(s,(()=>{r.push({name:i,query:{...n.query,currentPage:s.value}})})),{currentPage:s,paginatedElements:v,totalPages:u,isInverseSort:c,elementsPerPageCount:d,setSortField:e=>{t.value===e?c.value=!c.value:c.value=!1,t.value=e}}})),e("u",(()=>{const e=l(!1),t=l(!1),a=l(!1),o=l(null);return{isAddDialogActive:e,isEditDialogActive:a,isDeleteDialogActive:t,itemToEdit:o,openDialog:(e,l)=>{o.value=e,"edit"===l&&(a.value=!0),"delete"===l&&(t.value=!0)}}}));const t={class:"d-sm-table-row d-none"},D=["onClick"],F=u("th",{class:"text-h6 pa-0 pr-3 pb-3 font-weight-bold text-black text-left"},"Действия",-1),C={class:"d-sm-none d-table-row"},N=["colspan"],_={class:"d-sm-none d-block font-weight-bold flex-grow-1 pr-1"},T={class:"text-sm-left text-right"},E={class:"d-sm-table-cell d-flex justify-end h-auto pa-0 py-3"},P={class:"d-flex flex-wrap"},A={key:1,class:"text-center text-h6 text-error font-weight-bold mb-5"};e("_",i({__name:"ElementsTable",props:{items:null,fields:null,currentSortField:null,isInverseSort:{type:Boolean},noDataText:null},emits:["updateSortField","openDialog"],setup(e,{emit:l}){const{xs:a}=n(),o=(e,t)=>{a.value||w.from(e,{duration:.6,opacity:0,y:"-50%",ease:"power1.out",onComplete:t})};return(a,i)=>{const n=S("v-icon"),w=S("v-hover"),q=S("v-select"),I=S("v-btn"),$=S("v-tooltip"),j=S("v-table");return e.items.length?(r(),s(j,{key:0},{default:d((()=>[u("tr",t,[(r(!0),c(y,null,v(e.fields,(t=>(r(),c("th",{class:"text-h6 pa-0 pb-3 font-weight-bold text-black text-left",key:t.fieldName,onClick:e=>a.$emit("updateSortField",t.fieldName)},[m(w,null,{default:d((({isHovering:l,props:a})=>[u("p",p(a,{class:"pr-6 d-inline-block",style:{position:"relative"}}),[f(x(t.fieldText)+" ",1),b(m(n,{style:h([{position:"absolute",right:"0px",top:"50%",transform:"translate(0, -50%)"},{opacity:l&&e.currentSortField!=t.fieldName?.6:1}]),icon:e.isInverseSort&&e.currentSortField==t.fieldName?"mdi-arrow-up-thin":"mdi-arrow-down-thin"},null,8,["icon","style"]),[[g,e.currentSortField===t.fieldName||l]])],16)])),_:2},1024)],8,D)))),128)),F]),u("tr",C,[u("td",{colspan:e.fields.length+1},[m(q,{items:e.fields,"item-title":"fieldText","item-value":"fieldName","model-value":e.currentSortField,"onUpdate:modelValue":i[0]||(i[0]=e=>l("updateSortField",e)),variant:"underlined",clearable:!1,label:"Сортировать по"},null,8,["items","model-value"])],8,N)]),u("tbody",null,[m(k,{onEnter:o},{default:d((()=>[(r(!0),c(y,null,v(e.items,(t=>(r(),c("tr",{key:t.id,class:"d-sm-table-row d-block"},[(r(!0),c(y,null,v(e.fields,(e=>(r(),c("td",{key:e.fieldName,class:"d-sm-table-cell d-flex pa-0 h-auto py-3"},[u("div",_,x(e.fieldText)+": ",1),u("div",T,x(t[e.fieldName]),1)])))),128)),u("td",E,[u("div",P,[m($,{text:"Удалить",location:"bottom","content-class":"tooltip",transition:"slide-x-transition"},{activator:d((({props:e})=>[m(I,p(e,{variant:"flat",icon:"mdi-trash-can",color:"error",class:"mr-2",onClick:e=>a.$emit("openDialog",t,"delete")}),null,16,["onClick"])])),_:2},1024),m($,{text:"Редактировать",location:"bottom","content-class":"tooltip",transition:"slide-x-reverse-transition"},{activator:d((({props:e})=>[m(I,p(e,{variant:"flat",icon:"mdi-pencil",color:"info",onClick:e=>a.$emit("openDialog",t,"edit")}),null,16,["onClick"])])),_:2},1024)])])])))),128))])),_:1})])])),_:1})):(r(),c("div",A,x(e.noDataText||"Ничего не найдено"),1))}}}))}}}));
