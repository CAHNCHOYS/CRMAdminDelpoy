import{u as q,a as H,b as n}from"./useFormSchemas-bbdef749.js";import{u as J}from"./alert-18323748.js";import{d as K,r as O,J as P,A as Q,i as W,h as X,c as E,b as e,e as s,V as Y,f as Z,g as a,j as $,o as w,m as ee,D as t,n as se,p as g,t as T,q as f,s as ae,v as re,y as oe,z as le,B as l,C as p,E as i,K as te,L as ne,F as A,M as U,N as ie,O as de,G as ue,H as ce,I as me,_ as ge}from"./index-1cb64e4a.js";const pe=""+new URL("bg2-f94e3638.jpg",import.meta.url).href,y=d=>(ce("data-v-7e219017"),d=d(),me(),d),fe={class:"fullscreen h-100 d-flex justify-center align-center"},_e={class:"text-white text-h6"},Ve=y(()=>f("div",{class:"form-title text-center text-h4 py-4"},"Регистрация",-1)),be=y(()=>f("span",{class:"text-white text-h6 font-weight-medium"},"Зарегистрироваться",-1)),he={key:0,class:"mt-2"},xe=y(()=>f("span",{class:"text-decoration-underline text-green"}," Перейти к авторизации ",-1)),ve=K({__name:"RegisterView",setup(d){const{registerSchema:B}=q(),{handleSubmit:I,isSubmitting:S}=H({validationSchema:B}),{value:_,errorMessage:R}=n("name"),{value:V,errorMessage:z}=n("email"),{value:b,errorMessage:F}=n("country"),{value:h,errorMessage:N}=n("password"),{value:x,errorMessage:j}=n("passwordConfirm"),{value:v,errorMessage:D}=n("agreement"),u=O(!1),c=J(),{isMessageShown:m,messageText:L,messageType:k}=P(c),G=I(async C=>{try{await Q.register(C),c.showMessage("success","Вы успешно зарегистрировались, можете переходить к авторизации"),u.value=!0}catch(r){W(r)?c.showMessage("error",X(r)):c.showMessage("error","Ошибка при регистрации, попробуйте позже")}});return(C,r)=>{const M=ue("router-link");return w(),E("div",fe,[e(Y,null,{default:s(()=>[e(ee,{class:"alert",type:a(k),"max-width":400,modelValue:a(m),"onUpdate:modelValue":r[0]||(r[0]=o=>t(m)?m.value=o:null)},{default:s(()=>[e(se,{class:"text-h4 mb-2"},{default:s(()=>[g(T(a(k)==="error"?"Ошибка":"Уведомление"),1)]),_:1}),f("div",_e,T(a(L)),1)]),_:1},8,["type","modelValue"])]),_:1}),e(Z,{class:"form-card flex-grow-1 pb-2 rounded-lg","max-width":486,elevation:0},{default:s(()=>[Ve,e(ae,{class:"pt-4 pb-6 px-lg-10 px-md-8 px-4"},{default:s(()=>[e(re,{onSubmit:a(G),class:"w-100"},{default:s(()=>[e(oe,{class:"text-indigo-darken-2 text-center mb-2 px-0"},{default:s(()=>[g(" Введите ваши данные")]),_:1}),e(le,null,{default:s(()=>[e(l,{cols:"12"},{default:s(()=>[e(p,{modelValue:a(_),"onUpdate:modelValue":r[1]||(r[1]=o=>t(_)?_.value=o:null),"error-messages":a(R),placeholder:"Ваше имя",hint:"Ваше настоящее имя","bg-color":"rgba(229, 229, 229, 0.25)"},{"prepend-inner":s(()=>[e(i,{class:"icon mr-lg-3 mr-1",icon:"mdi-clipboard-account",size:"large"})]),_:1},8,["modelValue","error-messages","bg-color"])]),_:1}),e(l,{cols:"12"},{default:s(()=>[e(p,{modelValue:a(V),"onUpdate:modelValue":r[2]||(r[2]=o=>t(V)?V.value=o:null),"error-messages":a(z),placeholder:"Ваша почта",hint:"Ваш адрес электронной почты","bg-color":"rgba(229, 229, 229, 0.25)"},{"prepend-inner":s(()=>[e(i,{class:"icon mr-lg-3 mr-1",icon:"mdi-email",size:"large"})]),_:1},8,["modelValue","error-messages","bg-color"])]),_:1}),e(l,{cols:"12"},{default:s(()=>[e(te,{modelValue:a(b),"onUpdate:modelValue":r[3]||(r[3]=o=>t(b)?b.value=o:null),placeholder:"Выберете вашу страну",hint:"Страна проживания",items:["Россия","Беларусь","Латвия","Украина","Казахстан","Узбекистан"],"bg-color":"rgba(229, 229, 229, 0.25)","error-messages":a(F)},{"prepend-inner":s(()=>[e(i,{icon:"mdi-city",class:"icon mr-lg-3 mr-1",size:"large"})]),_:1},8,["modelValue","bg-color","error-messages"])]),_:1}),e(l,{cols:"12"},{default:s(()=>[e(p,{modelValue:a(h),"onUpdate:modelValue":r[4]||(r[4]=o=>t(h)?h.value=o:null),"error-messages":a(N),type:"password",placeholder:"Ваш пароль",hint:"Ваш пароль для входа на сайт","bg-color":"rgba(229, 229, 229, 0.25)"},{"prepend-inner":s(()=>[e(i,{icon:"mdi-lock",class:"icon mr-lg-3 mr-1",size:"large"})]),_:1},8,["modelValue","error-messages","bg-color"])]),_:1}),e(l,{cols:"12"},{default:s(()=>[e(p,{type:"password",modelValue:a(x),"onUpdate:modelValue":r[5]||(r[5]=o=>t(x)?x.value=o:null),"error-messages":a(j),placeholder:"Повторите пароль",hint:"Ваш пароль еще раз","bg-color":"rgba(229, 229, 229, 0.25)"},{"prepend-inner":s(()=>[e(i,{icon:"mdi-lock",class:"icon mr-lg-3 mr-1",size:"large"})]),_:1},8,["modelValue","error-messages","bg-color"])]),_:1}),e(l,{cols:"12"},{default:s(()=>[e(ne,{modelValue:a(v),"onUpdate:modelValue":r[6]||(r[6]=o=>t(v)?v.value=o:null),color:"#0f1e54","error-messages":a(D),label:"Вы согласны на обработку данных?"},null,8,["modelValue","error-messages"])]),_:1}),e(l,{cols:"12"},{default:s(()=>[e(A,{type:"submit",loading:a(S),disabled:a(S)||a(m)||u.value,block:"",color:"dark-blue",variant:"flat"},{default:s(()=>[be]),_:1},8,["loading","disabled"]),u.value?U("",!0):(w(),E("p",he,[e(M,{to:{name:"login-page"},class:"text-black text-h6"},{default:s(()=>[g("Уже есть аккаунт? "),xe]),_:1})]))]),_:1}),e(l,{cols:"12"},{default:s(()=>[e(ie,null,{default:s(()=>[u.value?(w(),de(A,{key:0,block:"",variant:"flat",color:"success"},{default:s(()=>[e(M,{to:"/login",class:"text-white text-h6 font-weight-medium"},{default:s(()=>[g("Перейти к авторизации")]),_:1})]),_:1})):U("",!0)]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1}),e($,{cover:"",class:"bg-image",src:a(pe),alt:"Оффис"},null,8,["src"])])}}});const ke=ge(ve,[["__scopeId","data-v-7e219017"]]);export{ke as default};
