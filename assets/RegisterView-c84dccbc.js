import{u as oe,a as se,b as c}from"./useFormSchemas-8d352281.js";import{u as te}from"./alert-139ef2ed.js";import{d as re,r as ae,v as le,A as ne,i as ce,h as ie,c as R,b as e,e as o,f as s,k as r,o as y,p as n,l as g,t as z,m as v,x as A,y as de,q as me,s as ue,_ as _e}from"./index-895edbee.js";const pe=""+new URL("bg2-f94e3638.jpg",import.meta.url).href,k=d=>(me("data-v-7e219017"),d=d(),ue(),d),ge={class:"fullscreen h-100 d-flex justify-center align-center"},ve={class:"text-white text-h6"},fe=k(()=>v("div",{class:"form-title text-center text-h4 py-4"},"Регистрация",-1)),be=k(()=>v("span",{class:"text-white text-h6 font-weight-medium"},"Зарегистрироваться",-1)),xe={key:0,class:"mt-2"},he=k(()=>v("span",{class:"text-decoration-underline text-green"}," Перейти к авторизации ",-1)),we=re({__name:"RegisterView",setup(d){const{registerSchema:B}=oe(),{handleSubmit:T,isSubmitting:S}=se({validationSchema:B}),{value:f,errorMessage:I}=c("name"),{value:b,errorMessage:N}=c("email"),{value:x,errorMessage:F}=c("country"),{value:h,errorMessage:j}=c("password"),{value:w,errorMessage:L}=c("passwordConfirm"),{value:V,errorMessage:q}=c("agreement"),m=ae(!1),u=te(),{isMessageShown:_,messageText:D,messageType:M}=le(u),G=T(async E=>{try{await ne.register(E),u.showMessage("success","Вы успешно зарегистрировались, можете переходить к авторизации"),m.value=!0}catch(t){ce(t)?u.showMessage("error",ie(t)):u.showMessage("error","Ошибка при регистрации, попробуйте позже")}});return(E,t)=>{const H=r("v-alert-title"),J=r("v-alert"),K=r("v-dialog-transition"),O=r("v-card-title"),i=r("v-icon"),p=r("v-text-field"),l=r("v-col"),P=r("v-select"),Q=r("v-checkbox"),C=r("v-btn"),U=r("router-link"),W=r("v-scale-transition"),X=r("v-row"),Y=r("v-form"),Z=r("v-card-actions"),$=r("v-card"),ee=r("v-img");return y(),R("div",ge,[e(K,null,{default:o(()=>[e(J,{class:"alert",type:s(M),"max-width":400,modelValue:s(_),"onUpdate:modelValue":t[0]||(t[0]=a=>n(_)?_.value=a:null)},{default:o(()=>[e(H,{class:"text-h4 mb-2"},{default:o(()=>[g(z(s(M)==="error"?"Ошибка":"Уведомление"),1)]),_:1}),v("div",ve,z(s(D)),1)]),_:1},8,["type","modelValue"])]),_:1}),e($,{class:"form-card flex-grow-1 pb-2 rounded-lg","max-width":486,elevation:0},{default:o(()=>[fe,e(Z,{class:"pt-4 pb-6 px-lg-10 px-md-8 px-4"},{default:o(()=>[e(Y,{onSubmit:s(G),class:"w-100"},{default:o(()=>[e(O,{class:"text-indigo-darken-2 text-center mb-2 px-0"},{default:o(()=>[g(" Введите ваши данные")]),_:1}),e(X,null,{default:o(()=>[e(l,{cols:"12"},{default:o(()=>[e(p,{modelValue:s(f),"onUpdate:modelValue":t[1]||(t[1]=a=>n(f)?f.value=a:null),"error-messages":s(I),placeholder:"Ваше имя",hint:"Ваше настоящее имя","bg-color":"rgba(229, 229, 229, 0.25)"},{"prepend-inner":o(()=>[e(i,{class:"icon mr-lg-3 mr-1",icon:"mdi-clipboard-account",size:"large"})]),_:1},8,["modelValue","error-messages","bg-color"])]),_:1}),e(l,{cols:"12"},{default:o(()=>[e(p,{modelValue:s(b),"onUpdate:modelValue":t[2]||(t[2]=a=>n(b)?b.value=a:null),"error-messages":s(N),placeholder:"Ваша почта",hint:"Ваш адрес электронной почты","bg-color":"rgba(229, 229, 229, 0.25)"},{"prepend-inner":o(()=>[e(i,{class:"icon mr-lg-3 mr-1",icon:"mdi-email",size:"large"})]),_:1},8,["modelValue","error-messages","bg-color"])]),_:1}),e(l,{cols:"12"},{default:o(()=>[e(P,{modelValue:s(x),"onUpdate:modelValue":t[3]||(t[3]=a=>n(x)?x.value=a:null),placeholder:"Выберете вашу страну",hint:"Страна проживания",items:["Россия","Беларусь","Латвия","Украина","Казахстан","Узбекистан"],"bg-color":"rgba(229, 229, 229, 0.25)","error-messages":s(F)},{"prepend-inner":o(()=>[e(i,{icon:"mdi-city",class:"icon mr-lg-3 mr-1",size:"large"})]),_:1},8,["modelValue","bg-color","error-messages"])]),_:1}),e(l,{cols:"12"},{default:o(()=>[e(p,{modelValue:s(h),"onUpdate:modelValue":t[4]||(t[4]=a=>n(h)?h.value=a:null),"error-messages":s(j),type:"password",placeholder:"Ваш пароль",hint:"Ваш пароль для входа на сайт","bg-color":"rgba(229, 229, 229, 0.25)"},{"prepend-inner":o(()=>[e(i,{icon:"mdi-lock",class:"icon mr-lg-3 mr-1",size:"large"})]),_:1},8,["modelValue","error-messages","bg-color"])]),_:1}),e(l,{cols:"12"},{default:o(()=>[e(p,{type:"password",modelValue:s(w),"onUpdate:modelValue":t[5]||(t[5]=a=>n(w)?w.value=a:null),"error-messages":s(L),placeholder:"Повторите пароль",hint:"Ваш пароль еще раз","bg-color":"rgba(229, 229, 229, 0.25)"},{"prepend-inner":o(()=>[e(i,{icon:"mdi-lock",class:"icon mr-lg-3 mr-1",size:"large"})]),_:1},8,["modelValue","error-messages","bg-color"])]),_:1}),e(l,{cols:"12"},{default:o(()=>[e(Q,{modelValue:s(V),"onUpdate:modelValue":t[6]||(t[6]=a=>n(V)?V.value=a:null),color:"#0f1e54","error-messages":s(q),label:"Вы согласны на обработку данных?"},null,8,["modelValue","error-messages"])]),_:1}),e(l,{cols:"12"},{default:o(()=>[e(C,{type:"submit",loading:s(S),disabled:s(S)||s(_)||m.value,block:"",color:"dark-blue",variant:"flat"},{default:o(()=>[be]),_:1},8,["loading","disabled"]),m.value?A("",!0):(y(),R("p",xe,[e(U,{to:{name:"login-page"},class:"text-black text-h6"},{default:o(()=>[g("Уже есть аккаунт? "),he]),_:1})]))]),_:1}),e(l,{cols:"12"},{default:o(()=>[e(W,null,{default:o(()=>[m.value?(y(),de(C,{key:0,block:"",variant:"flat",color:"success"},{default:o(()=>[e(U,{to:"/login",class:"text-white text-h6 font-weight-medium"},{default:o(()=>[g("Перейти к авторизации")]),_:1})]),_:1})):A("",!0)]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1}),e(ee,{cover:"",class:"bg-image",src:s(pe),alt:"Оффис"},null,8,["src"])])}}});const Se=_e(we,[["__scopeId","data-v-7e219017"]]);export{Se as default};
