import{u as q,a as H,b as n}from"./useFormSchemas-a1be70e3.js";import{d as J,r as K,a as O,K as P,A as Q,i as W,h as X,c as E,e,f as s,V as Y,g as Z,j as a,k as $,o as w,n as ee,E as t,p as se,q as g,t as T,s as f,x as ae,y as re,v as oe,B as le,C as l,D as p,F as d,L as te,M as ne,G as A,N as U,O as de,P as ie,H as ce,I as ue,J as me,_ as ge}from"./index-089d6db5.js";const pe=""+new URL("bg2-f94e3638.jpg",import.meta.url).href,y=i=>(ue("data-v-6d866bda"),i=i(),me(),i),fe={class:"fullscreen h-100 d-flex justify-center align-center"},_e={class:"text-white text-h6"},Ve=y(()=>f("div",{class:"form-title text-center text-h4 py-4"},"Регистрация",-1)),be=y(()=>f("span",{class:"text-white text-h6 font-weight-medium"},"Зарегистрироваться",-1)),xe={key:0,class:"mt-2"},he=y(()=>f("span",{class:"text-decoration-underline text-green"}," Перейти к авторизации ",-1)),ve=J({__name:"RegisterView",setup(i){const{registerSchema:B}=q(),{handleSubmit:I,isSubmitting:S}=H({validationSchema:B}),{value:_,errorMessage:R}=n("name"),{value:V,errorMessage:F}=n("email"),{value:b,errorMessage:z}=n("country"),{value:x,errorMessage:N}=n("password"),{value:h,errorMessage:j}=n("passwordConfirm"),{value:v,errorMessage:D}=n("agreement"),c=K(!1),u=O(),{isMessageShown:m,messageText:L,messageType:k}=P(u),G=I(async C=>{try{await Q.register(C),u.showMessage("success","Вы успешно зарегистрировались, можете переходить к авторизации"),c.value=!0}catch(r){W(r)?u.showMessage("error",X(r)):u.showMessage("error","Ошибка при регистрации, попробуйте позже")}});return(C,r)=>{const M=ce("router-link");return w(),E("div",fe,[e(Y,null,{default:s(()=>[e(ee,{class:"alert",type:a(k),"max-width":400,modelValue:a(m),"onUpdate:modelValue":r[0]||(r[0]=o=>t(m)?m.value=o:null)},{default:s(()=>[e(se,{class:"text-h4 mb-2"},{default:s(()=>[g(T(a(k)==="error"?"Ошибка":"Уведомление"),1)]),_:1}),f("div",_e,T(a(L)),1)]),_:1},8,["type","modelValue"])]),_:1}),e(Z,{class:"form-card flex-grow-1 pb-2 rounded-lg","max-width":486,elevation:0},{default:s(()=>[Ve,e(ae,{class:"pt-4 pb-6 px-lg-10 px-md-8 px-4"},{default:s(()=>[e(re,{onSubmit:a(G),class:"w-100"},{default:s(()=>[e(oe,{class:"text-indigo-darken-2 text-center mb-2 px-0"},{default:s(()=>[g(" Введите ваши данные")]),_:1}),e(le,null,{default:s(()=>[e(l,{cols:"12"},{default:s(()=>[e(p,{modelValue:a(_),"onUpdate:modelValue":r[1]||(r[1]=o=>t(_)?_.value=o:null),"error-messages":a(R),placeholder:"Ваше имя",hint:"Ваше настоящее имя","bg-color":"rgba(229, 229, 229, 0.25)"},{"prepend-inner":s(()=>[e(d,{class:"icon mr-lg-3 mr-1",icon:"mdi-clipboard-account",size:"large"})]),_:1},8,["modelValue","error-messages","bg-color"])]),_:1}),e(l,{cols:"12"},{default:s(()=>[e(p,{modelValue:a(V),"onUpdate:modelValue":r[2]||(r[2]=o=>t(V)?V.value=o:null),"error-messages":a(F),placeholder:"Ваша почта",hint:"Ваш адрес электронной почты","bg-color":"rgba(229, 229, 229, 0.25)"},{"prepend-inner":s(()=>[e(d,{class:"icon mr-lg-3 mr-1",icon:"mdi-email",size:"large"})]),_:1},8,["modelValue","error-messages","bg-color"])]),_:1}),e(l,{cols:"12"},{default:s(()=>[e(te,{modelValue:a(b),"onUpdate:modelValue":r[3]||(r[3]=o=>t(b)?b.value=o:null),placeholder:"Выберете вашу страну",hint:"Страна проживания",items:["Россия","Беларусь","Латвия","Украина","Казахстан","Узбекистан"],"bg-color":"rgba(229, 229, 229, 0.25)","error-messages":a(z)},{"prepend-inner":s(()=>[e(d,{icon:"mdi-city",class:"icon mr-lg-3 mr-1",size:"large"})]),_:1},8,["modelValue","bg-color","error-messages"])]),_:1}),e(l,{cols:"12"},{default:s(()=>[e(p,{modelValue:a(x),"onUpdate:modelValue":r[4]||(r[4]=o=>t(x)?x.value=o:null),"error-messages":a(N),type:"password",placeholder:"Ваш пароль",hint:"Ваш пароль для входа на сайт","bg-color":"rgba(229, 229, 229, 0.25)"},{"prepend-inner":s(()=>[e(d,{icon:"mdi-lock",class:"icon mr-lg-3 mr-1",size:"large"})]),_:1},8,["modelValue","error-messages","bg-color"])]),_:1}),e(l,{cols:"12"},{default:s(()=>[e(p,{type:"password",modelValue:a(h),"onUpdate:modelValue":r[5]||(r[5]=o=>t(h)?h.value=o:null),"error-messages":a(j),placeholder:"Повторите пароль",hint:"Ваш пароль еще раз","bg-color":"rgba(229, 229, 229, 0.25)"},{"prepend-inner":s(()=>[e(d,{icon:"mdi-lock",class:"icon mr-lg-3 mr-1",size:"large"})]),_:1},8,["modelValue","error-messages","bg-color"])]),_:1}),e(l,{cols:"12"},{default:s(()=>[e(ne,{modelValue:a(v),"onUpdate:modelValue":r[6]||(r[6]=o=>t(v)?v.value=o:null),color:"#0f1e54","error-messages":a(D),label:"Вы согласны на обработку данных?"},null,8,["modelValue","error-messages"])]),_:1}),e(l,{cols:"12"},{default:s(()=>[e(A,{type:"submit",loading:a(S),disabled:a(S)||a(m)||c.value,block:"",color:"dark-blue",variant:"flat"},{default:s(()=>[be]),_:1},8,["loading","disabled"]),c.value?U("",!0):(w(),E("p",xe,[e(M,{to:{name:"login-page"},class:"text-black text-h6"},{default:s(()=>[g("Уже есть аккаунт? "),he]),_:1})]))]),_:1}),e(l,{cols:"12"},{default:s(()=>[e(de,null,{default:s(()=>[c.value?(w(),ie(A,{key:0,block:"",variant:"flat",color:"success"},{default:s(()=>[e(M,{to:"/login",class:"text-white text-h6 font-weight-medium"},{default:s(()=>[g("Перейти к авторизации")]),_:1})]),_:1})):U("",!0)]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1}),e($,{cover:"",class:"bg-image",src:a(pe),alt:"Оффис"},null,8,["src"])])}}});const Se=ge(ve,[["__scopeId","data-v-6d866bda"]]);export{Se as default};
