System.register(["./index-legacy-8b0be313.js","./index-legacy-47354a66.js"],(function(t,e){"use strict";var a,s,o,l,d,r,n,i,c,u,p,m,g,h,f,x,b,y,v,_,w,A,k,D,C,B,F,P,j,I=document.createElement("style");return I.textContent="canvas[data-v-9551457b]{width:100%!important;min-height:200px!important;max-height:400px}@media (max-width: 479.98px){canvas[data-v-9551457b]{max-height:250px}}canvas[data-v-04e52979]{width:100%!important;min-height:200px!important;max-height:400px!important}@media (max-width: 479.98px){canvas[data-v-04e52979]{max-height:250px!important}}canvas[data-v-377b486c]{width:100%!important;min-height:250px!important}canvas[data-v-07495283]{width:100%!important;min-height:250px!important}canvas[data-v-e2cbfbac]{width:100%!important;min-height:250px!important;max-height:350px!important}canvas[data-v-bd750fb1]{width:100%!important;min-height:200px!important;max-height:350px!important}\n",document.head.appendChild(I),{setters:[t=>{a=t.d,s=t.r,o=t.F,l=t.B,d=t.G,r=t.D,n=t.H,i=t.I,c=t.J,u=t.K,p=t.L,m=t.M,g=t.N,h=t.O,f=t.Q,x=t.o,b=t.y,y=t.e,v=t.f,_=t.c,w=t.k,A=t._,k=t.E,D=t.R,C=t.S,B=t.C,F=t.b,P=t.m,j=t.t},null],execute:function(){const e={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},I={type:{type:String,required:!0},...e},O="2"===h[0]?(t,e)=>Object.assign(t,{attrs:e}):(t,e)=>Object.assign(t,e);function E(t){return c(t)?n(t):t}function R(t,e){t.labels=e}function S(t,e,a){const s=[];t.datasets=e.map((e=>{const o=t.datasets.find((t=>t[a]===e[a]));return o&&e.data&&!s.includes(o)?(s.push(o),Object.assign(o,e),o):{...e}}))}const z=a({props:I,setup(t,e){let{expose:a}=e;const p=s(null),m=o(null);return a({chart:m}),l((()=>{if(!p.value)return;const{type:e,data:a,options:s,plugins:o,datasetIdKey:l}=t,d=function(t,e){const a={labels:[],datasets:[]};return R(a,t.labels),S(a,t.datasets,e),a}(a,l),r=function(t){return c(arguments.length>1&&void 0!==arguments[1]?arguments[1]:t)?new Proxy(t,{}):t}(d,a);m.value=new u(p.value,{type:e,data:r,options:{...s},plugins:o})})),d((()=>{const t=n(m.value);t&&(t.destroy(),m.value=null)})),r([()=>t.options,()=>t.data],((e,a)=>{let[s,o]=e,[l,d]=a;const r=n(m.value);if(!r)return;let i=!1;if(s){const t=E(s),e=E(l);t&&t!==e&&(function(t,e){const a=t.options;a&&e&&Object.assign(a,e)}(r,t),i=!0)}if(o){const e=E(o.labels),a=E(d.labels),s=E(o.datasets),l=E(d.datasets);e!==a&&(R(r.config.data,e),i=!0),s&&s!==l&&(S(r.config.data,s,t.datasetIdKey),i=!0)}i&&(e=>{e.update(t.updateMode)})(r)}),{deep:!0}),()=>i("canvas",{ref:p})}});function M(t,s){return u.register(s),a({props:e,setup(e,a){let{expose:s}=a;const l=o(null),d=t=>{l.value=t?.chart};return s({chart:l}),()=>i(z,O({ref:d},{type:t,...e}))}})}const K=M("bar",p),W=M("doughnut",m),Z=M("line",g),q={key:1,class:"text-h6"},G=A(a({__name:"ProductsCount",props:{products:null},setup(t){const e=t,a=f((()=>({labels:e.products.map((t=>t.name)),datasets:[{label:"Кол-во: ",backgroundColor:["#512DA8","#283593","#0277BD","#558B2F","#78909C","#BDBDBD","#FF9800","#FBC02D","#42A5F5","#8BC34A","#5D4037","#64FFDA","#EC407A","#004D40","#AFB42B","#AD1457","#9E9E9E"],data:e.products.map((t=>t.count)),hoverOffset:4}]}))),s={responsive:!0,maintainAspectRatio:!1,layout:{padding:0},plugins:{legend:{display:!1},title:{display:!0,color:"black",text:"Количество каждого товара",padding:{bottom:20},font:{size:26,weight:"normal"}}}};return(t,o)=>{const l=w("v-card");return x(),b(l,{"max-width":"100%",elevation:"5",class:"pa-5"},{default:y((()=>[e.products.length?(x(),b(v(W),{key:0,data:v(a),options:s},null,8,["data"])):(x(),_("p",q,"Недостаточно данных для построения графика"))])),_:1})}}}),[["__scopeId","data-v-9551457b"]]),H={key:1,class:"text-h6"},J=A(a({__name:"ProductsPrices",props:{products:null},setup(t){const e=t,a=f((()=>({labels:e.products.map((t=>t.name)),datasets:[{label:"Цена(руб): ",backgroundColor:["#512DA8","#283593","#0277BD","#558B2F","#78909C","#BDBDBD","#FF9800","#FBC02D","#42A5F5","#8BC34A","#5D4037","#64FFDA","#EC407A","#004D40","#AFB42B","#AD1457","#9E9E9E"],data:e.products.map((t=>t.price)),hoverOffset:4}]}))),s={responsive:!0,maintainAspectRatio:!1,layout:{padding:0},plugins:{legend:{display:!1},title:{display:!0,color:"black",text:"Цены товаров",padding:{bottom:20},font:{size:26,weight:"normal"}},tooltip:{}}};return(t,o)=>{const l=w("v-card");return x(),b(l,{"max-width":"100%",elevation:"5",class:"pa-5"},{default:y((()=>[e.products.length?(x(),b(v(W),{key:0,data:v(a),options:s},null,8,["data"])):(x(),_("p",H,"Недостаточно данных для построения графика"))])),_:1})}}}),[["__scopeId","data-v-04e52979"]]),L={key:1,class:"text-h6"},N=A(a({__name:"CustomersPremium",props:{customers:null},setup(t){const e=t,a=f((()=>({labels:["Наличие премиума"],datasets:[{label:"Есть премиум",data:[e.customers.filter((t=>"Да"===t.premium)).length]},{label:"Нету премиума",data:[e.customers.filter((t=>"Нет"===t.premium)).length]}]}))),s={responsive:!0,maintainAspectRatio:!1,layout:{padding:0},elements:{bar:{borderRadius:0,borderWidth:4}},scales:{y:{beginAtZero:!0,suggestedMin:0}},plugins:{legend:{display:!0,position:"bottom",title:{}},title:{display:!0,color:"black",text:"Премиум у клиентов",padding:{bottom:20},font:{size:26,weight:"normal"}}}};return(t,o)=>{const l=w("v-card");return x(),b(l,{"max-width":"100%",class:"pa-5",elevation:"5"},{default:y((()=>[e.customers.length?(x(),b(v(K),{key:0,data:v(a),options:s},null,8,["data"])):(x(),_("p",L,"Недостаточно данных для построения графика"))])),_:1})}}}),[["__scopeId","data-v-377b486c"]]),Q={key:1,class:"text-h6"},T=A(a({__name:"CategoryProductsCount",props:{categories:null,products:null},setup(t){const e=t,a=f((()=>({labels:["Количество товара по категориям"],datasets:e.categories.map((t=>({label:t.name,data:[e.products.filter((e=>e.category===t.name)).length]})))}))),s={responsive:!0,maintainAspectRatio:!1,layout:{padding:0},elements:{bar:{borderRadius:0,borderWidth:4}},scales:{x:{grid:{display:!1}},y:{grid:{display:!1}}},plugins:{legend:{display:!0,position:"bottom"},title:{display:!0,color:"black",text:"Количество товаров по категориям",padding:{bottom:20},font:{size:26,weight:"normal"}}}};return(t,o)=>{const l=w("v-card");return x(),b(l,{"max-width":"100%",class:"pa-5",elevation:"5"},{default:y((()=>[e.products.length?(x(),b(v(K),{key:0,data:v(a),options:s},null,8,["data"])):(x(),_("p",Q,"Недостаточно данных для построения графика"))])),_:1})}}}),[["__scopeId","data-v-07495283"]]),V={key:1,class:"text-h6"},U=A(a({__name:"OrdersByDate",props:{orders:null},setup(t){const e=t;function a(t){return t.split("-").reverse().join("-")}const s=f((()=>{const t=[],a=[];for(const s of e.orders)if(!t.includes(s.date)){const o=e.orders.filter((t=>t.date===s.date));t.push(s.date),a.push(o.reduce(((t,e)=>t+e.productCount),0))}return a})),o=f((()=>({labels:[...new Set(e.orders.sort(((t,e)=>Date.parse(a(t.date))-Date.parse(a(e.date)))).map((t=>t.date)))],datasets:[{label:"Кол-во товаров",data:s.value,borderColor:"#3F51B5",fill:!1,borderWidth:4}]}))),l={responsive:!0,maintainAspectRatio:!1,layout:{padding:0},scales:{y:{beginAtZero:!1,suggestedMin:0,grid:{display:!1}},x:{grid:{display:!1}}},plugins:{legend:{display:!1},title:{display:!0,color:"black",text:"Кол-во товаров в заказах",padding:{bottom:20},font:{size:26,weight:"normal"}}}};return(t,a)=>{const s=w("v-card");return x(),b(s,{width:"100%",color:"white",class:"pa-5",elevation:"5"},{default:y((()=>[e.orders.length?(x(),b(v(Z),{key:0,data:v(o),options:l},null,8,["data"])):(x(),_("p",V,"Недостаточно данных для построения графика"))])),_:1})}}}),[["__scopeId","data-v-e2cbfbac"]]),X={key:1,class:"text-h6"},Y=A(a({__name:"ProductsInOrders",props:{products:null,orders:null},setup(t){const e=t,a=f((()=>({labels:["Товары"],datasets:e.products.map((t=>({label:t.name,data:[e.orders.filter((e=>e.productId===t.id)).length]})))}))),s={responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,grid:{display:!1}},x:{grid:{display:!1}}},layout:{padding:0},elements:{bar:{borderWidth:4,borderRadius:0}},plugins:{title:{display:!0,text:"Сколько раз был заказан какой товар",padding:{bottom:20},font:{size:20,weight:"bold"}},legend:{display:!1}}};return(t,o)=>{const l=w("v-card");return x(),b(l,{color:"white",class:"pa-5",elevation:"5"},{default:y((()=>[e.orders.length?(x(),b(v(K),{key:0,data:v(a),options:s},null,8,["data"])):(x(),_("p",X,"Недостаточно данных для построения графика"))])),_:1})}}}),[["__scopeId","data-v-bd750fb1"]]),$=P("h2",{class:"text-sm-h2 text-h3 mb-6"},"Статистика",-1),tt=P("p",{class:"text-sm-h5 text-h6"},"Всего товаров",-1),et={class:"text-h2"},at=P("p",{class:"text-sm-h5 text-h6"},"Всего Клиентов",-1),st={class:"text-h2"},ot=P("p",{class:"text-sm-h5 text-h6"},"Всего Заказов",-1),lt={class:"text-h2"};t("default",a({__name:"StatiscticView",setup(t){const e=k(),a=D(),o=C(),d=s({count:0}),r=s({count:0}),n=s({count:0});return l((async()=>{e.productsCategories.length||await e.getAllProductsCategories(),B.from(".title",{x:"-300",opacity:0,ease:"linear",duration:.5}),B.from(".stats-header > *",{x:"-100%",stagger:.25,duration:.35,opacity:0,ease:"power2.out"}),B.from(".charts-row > *",{scale:0,stagger:.25,duration:.5,opacity:0,ease:"power3.out",delay:.85,scrollTrigger:{trigger:".charts-row",start:"top 50%",end:"+=1000"}}),B.to(d.value,{count:e.userProducts.length,duration:2,delay:.3}),B.to(r.value,{count:a.customers.length,duration:2,delay:.3}),B.to(n.value,{count:o.orders.length,duration:2,delay:.3})})),(t,s)=>{const l=w("v-btn"),i=w("v-col"),c=w("v-row"),u=w("v-card-text"),p=w("v-card");return x(),_("div",null,[$,F(c,{class:"stats-header"},{default:y((()=>[F(i,{sm:"4",cols:"12",class:"left-header-col"},{default:y((()=>[F(p,{color:"green",height:"100%",elevation:"0"},{default:y((()=>[F(u,null,{default:y((()=>[F(c,{align:"center"},{default:y((()=>[F(i,{md:"auto",cols:"12",class:"d-md-block d-flex justify-center"},{default:y((()=>[F(l,{icon:"mdi-laptop",color:"blue-grey",class:"text-white"})])),_:1}),F(i,{cols:"auto",class:"flex-grow-1 text-md-left text-center"},{default:y((()=>[tt,P("p",et,j(d.value.count.toFixed(0)),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),F(i,{sm:"4",cols:"6",class:"right-header-col"},{default:y((()=>[F(p,{color:"deep-orange-lighten-2",height:"100%",elevation:"0"},{default:y((()=>[F(u,null,{default:y((()=>[F(c,{align:"center"},{default:y((()=>[F(i,{md:"auto",cols:"12",class:"d-md-block d-flex justify-center"},{default:y((()=>[F(l,{icon:"mdi-account",color:"cyan",class:"text-white"})])),_:1}),F(i,{cols:"auto",class:"flex-grow-1 text-white text-md-left text-center"},{default:y((()=>[at,P("p",st,j(r.value.count.toFixed(0)),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),F(i,{sm:"4",cols:"6",class:"right-header-col"},{default:y((()=>[F(p,{color:"light-blue",height:"100%",elevation:"0"},{default:y((()=>[F(u,null,{default:y((()=>[F(c,{align:"center"},{default:y((()=>[F(i,{md:"auto",cols:"12",class:"d-md-block d-flex justify-center"},{default:y((()=>[F(l,{icon:"mdi-wallet",color:"pink",class:"text-white"})])),_:1}),F(i,{cols:"auto",class:"flex-grow-1 text-white text-md-left text-center"},{default:y((()=>[ot,P("p",lt,j(n.value.count.toFixed(0)),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),F(c,{align:"stretch",class:"charts-row"},{default:y((()=>[F(i,{md:"4",sm:"6",cols:"12"},{default:y((()=>[F(G,{products:v(e).userProducts},null,8,["products"])])),_:1}),F(i,{md:"4",sm:"6",cols:"12"},{default:y((()=>[F(J,{products:v(e).userProducts},null,8,["products"])])),_:1}),F(i,{md:"4",sm:"6",cols:"12"},{default:y((()=>[F(N,{customers:v(a).customers},null,8,["customers"])])),_:1}),F(i,{md:"4",sm:"6",cols:"12"},{default:y((()=>[F(T,{products:v(e).userProducts,categories:v(e).productsCategories},null,8,["products","categories"])])),_:1}),F(i,{md:"8",cols:"12"},{default:y((()=>[F(U,{orders:v(o).orders},null,8,["orders"])])),_:1}),F(i,{cols:"12"},{default:y((()=>[F(Y,{products:v(e).userProducts,orders:v(o).orders},null,8,["products","orders"])])),_:1})])),_:1})])}}}))}}}));
