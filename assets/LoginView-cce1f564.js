import{d as G,r as H,u as J,a as K,s as Q,w as W,o as X,c as Y,b as e,e as t,f as s,g as Z,h as ee,i as o,j as g,k as f,t as k,l as n,m as te,p as oe,n as se,_ as ae}from"./index-ec5a79bd.js";import{u as re,a as ne,b as F}from"./useFormSchemas-40ec0be4.js";const le=""+new URL("bg-ffc91902.png",import.meta.url).href,v=l=>(oe("data-v-2ae39bd0"),l=l(),se(),l),ce={class:"fullscreen h-100 d-flex justify-center align-center"},ie={class:"text-white text-h6"},de=v(()=>n("div",{class:"form-title text-center text-h4 py-4"},"Авторизация",-1)),_e=v(()=>n("span",{class:"text-white text-h6 font-weight-medium"},"Войти",-1)),me={class:"mt-2"},ue=v(()=>n("span",{class:"text-decoration-underline text-green"}," Зарегистрироваться ",-1)),pe=G({__name:"LoginView",setup(l){const{loginSchema:U}=re(),{handleSubmit:I,isSubmitting:b,resetForm:L}=ne({validationSchema:U}),{value:_,errorMessage:M}=F("email"),{value:m,errorMessage:R}=F("password"),c=H(!1),h=J(),x=K(),{isMessageShown:i,messageText:T,messageType:w}=Q(x),d=Z(),y=ee(),q=I(async S=>{await h.loginUser(S,L),h.isUserLoggedIn&&setTimeout(()=>{d.query.redirectedFrom?y.push({name:d.query.redirectedFrom}):y.push("/")},3500)});return W(()=>{d.query.redirectedFrom&&x.showMessage("error",`Для доступа к странице ${d.query.redirectedFrom} необходимо авторизироваться`)}),(S,a)=>{const B=o("v-alert-title"),C=o("v-alert"),E=o("v-dialog-transition"),z=o("v-card-title"),u=o("v-icon"),V=o("v-text-field"),p=o("v-col"),A=o("v-btn"),N=o("router-link"),j=o("v-row"),P=o("v-form"),$=o("v-card-actions"),D=o("v-card"),O=o("v-img");return X(),Y("div",ce,[e(E,null,{default:t(()=>[e(C,{class:"alert",type:s(w),"max-width":400,modelValue:s(i),"onUpdate:modelValue":a[0]||(a[0]=r=>g(i)?i.value=r:null)},{default:t(()=>[e(B,{class:"text-h4 mb-2"},{default:t(()=>[f(k(s(w)==="error"?"Ошибка":"Уведомление"),1)]),_:1}),n("div",ie,k(s(T)),1)]),_:1},8,["type","modelValue"])]),_:1}),e(D,{class:"form-card flex-grow-1 pb-8 rounded-lg","max-width":486,elevation:0},{default:t(()=>[de,e($,{class:"pt-4 pb-1 px-lg-10 px-md-8 px-4"},{default:t(()=>[e(P,{onSubmit:te(s(q),["prevent"]),class:"w-100"},{default:t(()=>[e(z,{class:"text-indigo-darken-2 text-center mb-2"},{default:t(()=>[f(" Введите ваши данные")]),_:1}),e(j,null,{default:t(()=>[e(p,{cols:"12"},{default:t(()=>[e(V,{modelValue:s(_),"onUpdate:modelValue":a[1]||(a[1]=r=>g(_)?_.value=r:null),"error-messages":s(M),"bg-color":"rgba(229, 229, 229, 0.25)",placeholder:"Ваша почта",hint:"Ваша почта при регистрации",clearable:""},{"prepend-inner":t(()=>[e(u,{icon:"mdi-email",class:"icon mr-lg-3 mr-1",size:"large"})]),_:1},8,["modelValue","error-messages","bg-color"])]),_:1}),e(p,{cols:"12"},{default:t(()=>[e(V,{modelValue:s(m),"onUpdate:modelValue":a[3]||(a[3]=r=>g(m)?m.value=r:null),"error-messages":s(R),"bg-color":"rgba(229, 229, 229, 0.25)",placeholder:"Ваш пароль",hint:"Ваш пароль при регистрации",type:c.value?"text":"password",clearable:""},{"prepend-inner":t(()=>[e(u,{icon:"mdi-lock",class:"icon mr-lg-3 mr-1",size:"large"})]),"append-inner":t(()=>[e(u,{onClick:a[2]||(a[2]=r=>c.value=!c.value),class:"text-dark-blue",icon:c.value?"mdi-eye":"mdi-eye-off",size:"large"},null,8,["icon"])]),_:1},8,["modelValue","error-messages","bg-color","type"])]),_:1}),e(p,null,{default:t(()=>[e(A,{type:"submit",loading:s(b),disabled:s(b)||s(i),block:"",color:"dark-blue",variant:"flat"},{default:t(()=>[_e]),_:1},8,["loading","disabled"]),n("p",me,[e(N,{to:{name:"register-page"},class:"text-black text-h6"},{default:t(()=>[f("Нет аккаунта? "),ue]),_:1})])]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1}),e(O,{class:"bg-image",cover:"",src:s(le),alt:"OfficePic"},null,8,["src"])])}}});const ve=ae(pe,[["__scopeId","data-v-2ae39bd0"]]);export{ve as default};
